{% extends 'base.html' %}
{% load static %}
{% block content %}
<div class="container p-2 mb-5 mt-5 container-list">
    {% if user.is_admin %}
        <a href="{% url create %}" class="text-decoration-none custom-card2 text-black">
            <div class="col-12 col-md-12 custom-card2 text-center"> + </div>
        </a>
    {% endif %}
    {% if items or view %}    
        {% for items in items %}
            {% cycle 1 2 3 4 5 6 as count silent %}
            {% with count=count %}
                {% if count == 1 %}
                    <div class="container movies-container mt-1 p-1">
                {% endif %}
                        <a href="{% url redirect items.id %}" class="text-decoration-none text-black">
                            <div class="row movies-row p-2 mx-1 justify-content-center">
                                <div class="col-12 col-md-12 custom-card text-center">
                                    <p>{{ items.name }} ({{ items.date.year }})</p>
                                </div>
                                <div class="col-12 col-md-12 images-row mb-3 text-center">
                                    <img src="{{ items.poster }}" alt="{{ items.name }}" class="d-block mx-auto img-fluid"/>
                                </div>
                                {% if items.grade_avg > 7 %}
                                    <div class="col-12 col-md-3 p-1 movie-nota-boa text-center">
                                        {{ items.grade_avg }}
                                    </div>
                                {% elif items.grade_avg > 5 and items.grade_avg < 8 %}
                                    <div class="col-12 col-md-2 p-1 movie-nota-media text-center">
                                        {{ items.grade_avg }}
                                    </div>
                                {% elif items.grade_avg < 6 %}
                                    <div class="col-12 col-md-2 p-1 movie-nota-ruim text-center">
                                        {{ items.grade_avg }}
                                    </div>
                                {% else %}
                                    <div class="col-12 col-md-2 p-1 movie-nota-media text-center">
                                        ?
                                    </div>
                                {% endif %}
                            </div>
                        </a>
                {% if count == 6 %}
                    </div>
                {% endif %}
            {% endwith %}
        {% endfor %}
    {% elif groups or view_group %}
        {% for group in page_obj %}
            {% cycle 1 2 3 4 5 6 as count silent %}
            {% with count=count %}
                {% if count == 1 %}
                    <div class="container movies-container mt-1 p-1">
                {% endif %}
                        <a href="{% url 'gestao:infogroup' group.id %}" class="text-decoration-none text-black">
                            <div class="row movies-row p-2 mx-1 justify-content-center">
                                <div class="col-12 col-md-12 custom-card text-center">
                                    <p>{{ group.name }}</p>
                                </div>
                                <div class="col-12 col-md-12 images-row mb-3 text-center">
                                    <img src="{% static group.image %}" alt="{{ group.name }}" class="d-block mx-auto img-fluid"/>
                                </div>
                                <div class="col-12 col-md-12 custom-card text-center">
                                    <p>{{ group.countmembers }}</p>
                                </div>
                            </div>
                        </a>
                {% if count == 6 %}
                    </div>
                {% endif %}
            {% endwith %}
        {% endfor %}
    {% endif %}
</div>
{% endblock content %}